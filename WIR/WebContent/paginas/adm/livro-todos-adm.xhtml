<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" 
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/WEB-INF/modelo/padrao.xhtml"
	xmlns:pe="http://primefaces.org/ui/extensions" >

	<ui:define name="center">
	<p:panel id="basic" header="#{msg['livro.adm.list']}"  style="margin-bottom:20px" rendered="#{sessionMB.ADM}">
	<p:accordionPanel multiple="true">
        <p:tab title="#{livroMB.nomeAbaLivrosAdm()}">
			<h:form prependId="false" id="admFormLivros">
				<p:dataTable 
					id="listaDelivrosAsm" 
					var="livros" 
					value="#{livroMB.listarTodosLivros()}"
					emptyMessage="#{msg['datatable.pageReportTemplete.empty']}" 
					paginator="true" 
					rows="25"
					paginatorAlwaysVisible="true" >
					
					<p:column headerText="#{msg['livro.adm.list.coluna.id']}" style="text-align:center">
						<h:outputText value="#{livros.idLivro}"/>
					</p:column>
					
					<p:column headerText="#{msg['livro.titulo']}" style="text-align:center">
						<h:outputText value="#{livros.titulo}"/>
					</p:column>
					
					<p:column headerText="#{msg['livro.autor']}" style="text-align:center">
						<h:outputText value="#{livros.autor}"/>
					</p:column>
					
					
					<p:column headerText="#{msg['livro.paginas']}" style="text-align:center">
						<h:outputText value="#{livros.paginas}"/>
					</p:column>
					
					<p:column headerText="#{msg['livro.list.publico.colaborador']}" style="text-align:center" >
           			<h:outputText value="#{livros.dono.nome}"/>
					</p:column>
					
					<p:column headerText="#{msg['livro.adm.list.coluna.data.upload']}" style="text-align:center">
						<h:outputText value="#{livros.dataUpload.time}" id="uploadTime">
							<f:convertDateTime for="uploadTime" pattern="EEE, M/d/yy hh:mm"/>
						</h:outputText>
					</p:column>
				</p:dataTable>
				<p:commandLink id="excel" ajax="false" title="#{msg['livro.adm.list.export.exel']}">
					<p:graphicImage value="/resources/imagens/excel.png" height="30px" width="30px" />
					<p:dataExporter type="xls" target="listaDelivrosAsm" fileName="livros-dados" />
				</p:commandLink>

				<p:commandLink id="pdf" ajax="false" title="#{msg['livro.adm.list.export.pdf']}">
					<p:graphicImage value="/resources/imagens/pdf.png" height="30px" width="30px" />
					<p:dataExporter type="pdf" target="listaDelivrosAsm" fileName="livros-dados" />
				</p:commandLink>

				<p:commandLink id="csv" ajax="false" title="#{msg['livro.adm.list.export.csv']}">
					<p:graphicImage value="/resources/imagens/csv.png" height="30px" width="30px" />
					<p:dataExporter type="csv" target="listaDelivrosAsm" fileName="livros-dados" />
				</p:commandLink>

				<p:commandLink id="xml" ajax="false" title="#{msg['livro.adm.list.export.xml']}">
					<p:graphicImage value="/resources/imagens/xml.jpg" height="30px" width="30px" />
					<p:dataExporter type="xml" target="listaDelivrosAsm" fileName="livros-dados" />
				</p:commandLink>
			</h:form>
        </p:tab>
        <p:tab title="#{livroPublicoMB.nomeAbaLivrosPublicosAdm()}">
        	<h:form prependId="false" id="admFormLivrosPublicos">
        		<p:dataTable 
					id="listaDelivrosAdmPublico" 
					var="livros" 
					value="#{livroPublicoMB.listarLivrosPublicos()}"
					emptyMessage="#{msg['datatable.pageReportTemplete.empty']}" 
					paginator="true" 
					rows="25"
					paginatorAlwaysVisible="true" >
					
					<p:column headerText="#{msg['livro.adm.list.coluna.id']}" style="text-align:center">
						<h:outputText value="#{livros.idLivroPublico}"/>
					</p:column>
					
					<p:column headerText="#{msg['livro.titulo']}" style="text-align:center">
						<h:outputText value="#{livros.tituloPublico}"/>
					</p:column>
					
					<p:column headerText="#{msg['livro.autor']}" style="text-align:center">
						<h:outputText value="#{livros.autorPublico}"/>
					</p:column>
					
					
					<p:column headerText="#{msg['livro.paginas']}" style="text-align:center">
						<h:outputText value="#{livros.paginasPublico}"/>
					</p:column>
					
					<p:column headerText="#{msg['livro.list.publico.colaborador']}" style="text-align:center" >
           			<h:outputText value="#{livros.donoPublico.nome}"/>
					</p:column>
					
					<p:column headerText="#{msg['livro.adm.list.coluna.data.upload']}" style="text-align:center">
						<h:outputText value="#{livros.dataUploadPublico.time}" id="uploadTime">
							<f:convertDateTime for="uploadTime" pattern="EEE, M/d/yy hh:mm"/>
						</h:outputText>
					</p:column>
				</p:dataTable>	
			    <p:commandLink id="excel1" ajax="false" title="#{msg['livro.adm.list.export.exel']}">
					<p:graphicImage value="/resources/imagens/excel.png" height="30px" width="30px" />
						<p:dataExporter type="xls" target="listaDelivrosAdmPublico" fileName="livros-Publicos-dados" />
				</p:commandLink>

				<p:commandLink id="pdf1" ajax="false" title="#{msg['livro.adm.list.export.pdf']}">
					<p:graphicImage value="/resources/imagens/pdf.png" height="30px" width="30px" />
						<p:dataExporter type="pdf" target="listaDelivrosAdmPublico" fileName="livros-Publicos-dados" />
				</p:commandLink>

				<p:commandLink id="csv1" ajax="false" title="#{msg['livro.adm.list.export.csv']}">
					<p:graphicImage value="/resources/imagens/csv.png" height="30px" width="30px" />
						<p:dataExporter type="csv" target="listaDelivrosAdmPublico" fileName="livros-Publicos-dados" />
				</p:commandLink>

				<p:commandLink id="xml1" ajax="false" title="#{msg['livro.adm.list.export.xml']}">
					<p:graphicImage value="/resources/imagens/xml.jpg" height="30px" width="30px" />
						<p:dataExporter type="xml" target="listaDelivrosAdmPublico" fileName="livros-Publicos-dados" />
				</p:commandLink>	
        	</h:form>
        </p:tab>
        <p:tab title="#{pessoaMB.nomeAbaUserAdm()}">
            <h:form prependId="false" id="admFormUsuarios">
        		<p:dataTable 
					id="listaDeUserCadastrados" 
					var="pessoa" 
					value="#{pessoaMB.listaDePessoasRegistradas}"
					emptyMessage="#{msg['datatable.pageReportTemplete.empty']}" 
					paginator="true" 
					rows="25"
					paginatorAlwaysVisible="true" >
					
					<p:column id="viewNome" headerText="#{msg['cadastro.usuario.nome']}" style="text-align:center;" >
						<h:outputText value="#{pessoa.nome}"  />
					</p:column>
					<p:column id="viewMAIL" style="text-align: center" headerText="#{msg['cadastro.usuario.mail']}" >
						<h:outputText value="#{pessoa.mail}" />
					</p:column>
					<p:column id="viewCPF" style="text-align: center" headerText="#{msg['cadastro.usuario.cpf']}" >
						<h:outputText value="#{pessoa.cpf}" />
					</p:column>
					<p:column id="viewFONE" style="text-align: center" headerText="#{msg['cadastro.usuario.fone']}" >
						<h:outputText value="#{pessoa.telefone}" />
					</p:column>
					
					<p:column id="viewSenha" style="text-align: center" headerText="#{msg['cadastro.usuario.password']}"  rendered="#{sessionMB.ADM}">
						<h:outputText value="#{pessoa.password}" />
					</p:column>
					<p:column id="viewLogin" style="text-align: center" headerText="#{msg['cadastro.usuario.username']}"  rendered="#{sessionMB.ADM}">
						
						<p:outputLabel value="#{pessoa.username}"/>
					</p:column>
				</p:dataTable>
				<p:commandLink id="excel2" ajax="false" title="#{msg['livro.adm.list.export.exel']}">
					<p:graphicImage value="/resources/imagens/excel.png" height="30px" width="30px" />
						<p:dataExporter type="xls" target="listaDeUserCadastrados" fileName="usuarios-dados" />
				</p:commandLink>

				<p:commandLink id="pdf2" ajax="false" title="#{msg['livro.adm.list.export.pdf']}">
					<p:graphicImage value="/resources/imagens/pdf.png" height="30px" width="30px" />
						<p:dataExporter type="pdf" target="listaDeUserCadastrados" fileName="usuarios-dados" />
				</p:commandLink>

				<p:commandLink id="csv2" ajax="false" title="#{msg['livro.adm.list.export.csv']}">
					<p:graphicImage value="/resources/imagens/csv.png" height="30px" width="30px" />
						<p:dataExporter type="csv" target="listaDeUserCadastrados" fileName="usuarios-dados" />
				</p:commandLink>

				<p:commandLink id="xml2" ajax="false" title="#{msg['livro.adm.list.export.xml']}">
					<p:graphicImage value="/resources/imagens/xml.jpg" height="30px" width="30px" />
						<p:dataExporter type="xml" target="listaDeUserCadastrados" fileName="usuarios-dados" />
				</p:commandLink>	
        	</h:form>
        </p:tab>
    </p:accordionPanel>
		</p:panel>
	</ui:define>
</ui:composition>